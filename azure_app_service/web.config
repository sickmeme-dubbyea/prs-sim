<?xml version="1.0" encoding="utf-8"?>
<!--
  web.config — Azure App Service (Windows) Python/Gunicorn config.
  For Linux App Service this file is not required; use startup.txt instead.
  Included here for completeness if a Windows App Service plan is used.
-->
<configuration>
  <system.webServer>
    <handlers>
      <add name="PythonHandler"
           path="*"
           verb="*"
           modules="httpPlatformHandler"
           resourceType="Unspecified" />
    </handlers>
    <httpPlatform processPath="%SystemDrive%\Python312\python.exe"
                  arguments="-m gunicorn --bind=127.0.0.1:%HTTP_PLATFORM_PORT% --timeout=120 --workers=2 --threads=4 app:app"
                  stdoutLogEnabled="true"
                  stdoutLogFile="%home%\LogFiles\python.log"
                  startupTimeLimit="120"
                  requestTimeout="00:04:00">
      <environmentVariables>
        <environmentVariable name="SERVER_PORT" value="%HTTP_PLATFORM_PORT%" />
      </environmentVariables>
    </httpPlatform>
    <!-- Disable directory browsing — belt and suspenders -->
    <directoryBrowse enabled="false" />
    <!-- Remove server version header -->
    <httpProtocol>
      <customHeaders>
        <remove name="X-Powered-By" />
        <remove name="Server" />
      </customHeaders>
    </httpProtocol>
  </system.webServer>
</configuration>
